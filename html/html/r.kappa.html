<TITLE>r.kappa</TITLE>

<body bgcolor="white">
<img src="grass.smlogo.gif">
<hr width=100% align=center size=6 no shade>

<H2>NAME</H2>
<EM><b>r.kappa</b></EM>  - Calculate error matrix and kappa
parameter for accuracy assessment of classification
result.

<BR>

<EM>(GRASS Raster Program)</EM>

<H2>SYNOPSIS</H2>

<B>r.kappa</B>

<BR>

<B>r.kappa help</B>

<BR>

<B>r.kappa</B> [<B>-mwqzh</B>] <B>classification=</B><EM>name</EM> 
<B>reference=</B><EM>name</EM> <B>output=</B><EM>name</EM> 
[<B>TITLE=</B>"<EM>name</EM>"]

<H2>DESCRIPTION</H2>

<EM>r.kappa</EM> tabulates the error matrix of
classification result by crossing classified map layer with
respect to reference map layer.  Both overall
<EM>kappa</EM> (accompanied by its <EM>variance</EM>) and
conditional <EM>kappa</EM> values are calculated.  This
analysis program respects the current geographic region and
mask settings.


<H2>OPTIONS</H2>

The user can run the program non-interactively by
specifying all needed flag settings and parameter values on
the command line, in the form:

<DL>
<DD>
<B>r.kappa </B>[<B>-mwqzh</B>] <B>classification=</B><EM>name</EM>
<B>reference=</B><EM>name </EM><B>output=</B><EM>name</EM> 
[<B>TITLE=</B>"<EM>name</EM>"]
</DL>

<H3>Flags:</H3>

<DL>

<DT><B>-m</B> 
<DD>Report zero values due to mask.

<DT><B>-w</B> 
<DD>Print a wide report, 132 columns (default: 80)

<DT><B>-q</B> 
<DD>Run quietly,

<DT><B>-z</B> 
<DD>Report non-zero values only.

<DT><B>-h</B> 
<DD>Report without header.

</DL>

<H3>Parameters:</H3>

<DL>

<DT><B>classification=</B><EM>name</EM>
<DD>Name of classified raster map layer.

<DT><B>reference=</B><EM>name</EM>
<DD>Name of reference raster map layer.

<DT><B>output=</B><EM>name</EM>
<DD>Name of ascii file in which to output report results.

<DT><B>TITLE=</B><EM>name</EM>
<DD>Title of the report file which is the first line in output file.

<BR>

Default:  <EM>ACCURACY ASSESSMENT</EM>
</DL>


Alternately, the user can run <EM>r.kappa</EM>
interactively by simply typing <EM>r.kappa</EM> without
command line arguments; in this case, the user will be
prompted for the names of classified result map and
reference map, which will be the subjects of the analysis.
<EM>r.kappa</EM> then calculates the error matrix of the
two map layers and prepares the table from which the report
is to be created.  <EM>kappa</EM> values for overall and
each classes are computed along with their variances. Also
percent of commission and ommission error, total correct
classified result by pixel counts, total area in pixel
counts and percentage of overall correctly classified
pixels are tabulated.


<P>

The report will be write to an output file which is in
plain text format and named by user at prompt of running
the program.


<P>

The body of the report is arranged in panels.  The
classified result map layer categories is arranged along
the vertical axis of the table, while the reference map
layer categories along the horizontal axis.  Each panel has
a maximum of 5 categories (9 if wide format) across the
top.  In addition, the last column of the last panel
reflects a cross total of each column for each row.  All of
the categories of the map layer arranged along the vertical
axis, i.e., the reference map layer,  are included in each
panel.  There is a total at the bottom of each column
representing the sum of all the rows in that column.


<P>


<H2>NOTES</H2>

It is recommended to reclassify categories of classified
result map layer into a more manageable number before
running <EM>r.kappa</EM> on the classified raster map
layer. Because <EM>r.kappa</EM> calculates and then reports
information for each and every category.


<P>

<EM>NA</EM>'s in output file mean non-applicable in case
<EM>MASK</EM> exists.

<H2>SEE ALSO</H2>

<EM><A HREF="g.region.html">g.region</A></EM><br>
<EM><A HREF="r.cats.html">r.cats</A></EM><br>
<EM><A HREF="r.mask.html">r.mask</A></EM><br>
<EM><A HREF="r.reclass.html">r.reclass</A></EM><br>
<EM><A HREF="r.report.html">r.report</A></EM><br>
<EM><A HREF="r.stats.html">r.stats</A></EM>

<H2>AUTHOR</H2>

Tao Wen, University of Illinois at Urbana-Champaign,  Illinois

