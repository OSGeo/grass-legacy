<html>

<TITLE>i.rectify</TITLE>

<body bgcolor="white">

<img src="grass.smlogo.gif">

<hr width=100% align=center size=6 noshade>

<H2>NAME</H2>

<EM><b>i.rectify</b></EM>  - An
<A HREF="../imagery.html">imagery</A> function that
rectifies an image by computing a coordinate transformation
for each cell (pixel) in the image using the transformation
coefficient matrix created by the GRASS program <EM>
<A HREF="i.points.html">i.points</A></EM>.

<BR>

<EM>(GRASS Image Processing Program)</EM>

<H2>SYNOPSIS</H2>

<B>i.rectify</B>

<H2>DESCRIPTION</H2>

<EM>i.rectify</EM> rectifies an image by using the
transformation coefficient matrix created by

<EM><A HREF="i.points.html">i.points</A></EM>.  

Rectification is the process by which the geometry of an
image is made planimetric.  This is accomplished by mapping
(transforming) an image from one coordinate system to
another.  In <EM>i.rectify</EM>, the coefficients computed
by

<EM><A HREF="i.points.html">i.points</A></EM> 

are used in an equation to convert x,y coordinates to
standard map coordinates for each cell in the image.  The
result is an image with a standard map coordinate system.
Upon completion of the program the rectified image is
deposited in a previously targeted GRASS LOCATION_NAME and
MAPSET.


<P>

The first prompt in the program asks the user for the name
of the group containing the raster map layers to be
rectified.


<P>

The user is then asked to select the map layer(s) within
the group to be rectified:


<PRE>
Please select the file(s) to rectify by naming an output file

             spot.1 in demo       .........
             spot.2 in demo       .........
             spot.3 in demo       .........
             spotclass in demo    spotrectify..
             spotreject in demo   .........

(Enter list by any name to get a list of existing rast files)

    AFTER COMPLETING ALL ANSWERS, HIT &lt;ESC&gt; TO CONTINUE
                  (OR &lt;Ctrl-C&gt; TO CANCEL)
</PRE>

More than one raster map layer may be rectified at a time.
Each raster map layer should have a unique output file
name.

<P>

Next the user is asked to select one of two geographic
region settings:


<PRE>
Please select one of the following options
1.   Use the current region in the target location
2.   Determine the smallest region which covers the image
</PRE>

<EM>i.rectify</EM> will only rectify that portion of the
image that occurs within the chosen geographic region
setting.  Only that portion will be relocated in the target
database.  It is therefore important to check the current
geographic region settings in the target location if choice
number one is selected.

<H2>NOTES</H2>

<EM>i.rectify</EM> uses nearest neighbor resampling during the transformation.

<P>

<EM>i.rectify</EM> uses a linear affine transformation:

<DL>
	<DD> x' = ax + by +c
	<DD> y' = Ax + Bt +C
</DL>

The a,b,c,A,B,C are determined by least squares regression
based on the control points entered.  This transformation
applies scaling, translation and rotation.  It is NOT a
general purpose rubber-sheeting, nor is it ortho-photo
rectification using a DEM, not second order polynomial,
etc.  It can be used if (1) you have geometrically correct
images, and (2) the terrain or camera distortion effect can
be ignored.

<BR>

<P>

Use 
<EM><A HREF="i.ortho.photo.html">i.ortho.photo</A></EM> 

for photos for which you have camera information and a DEM,
or <EM>i.rectify2</EM> if you want a 2nd or 3rd order
polynomial transformation.

<P>

<EM>i.rectify</EM> will run in the background and notify
the user by mail when it is finished.  The process may take
an hour or more depending on the size of the image, the
number of files, and the size of the geographic region
definition.

<P>

The rectified (raster) image will be located in the target
LOCATION when the program is completed.  The original
unrectified raster map layers are not modified or removed.

<P>

This program is interactive and requires no command line arguments.

<H2>SEE ALSO</H2>

<EM>GRASS Tutorial: <A HREF="../Postscript/imagery.ps">Image Processing</A></EM>

<P>

<EM>
<A HREF="m.proj.html">m.proj</A>,
<A HREF="r.proj.html">s.proj</A>,
<A HREF="s.proj.html">s.proj</A>,
<A HREF="v.proj.html">v.proj</A>,
<A HREF="i.group.html">i.group</A>,
<A HREF="i.points.html">i.points</A>,
<A HREF="i.rectify2.html">i.rectify2</A>,
<A HREF="i.rectify3.html">i.rectify3</A>,  
<A HREF="i.target.html">i.target</A>
</EM>

<H2>AUTHOR</H2>

Michael Shapiro,
U.S. Army Construction Engineering Research Laboratory
<p>
Modified for GRASS 5.0 by:<BR>
Luca Palmeri (palmeri@ux1.unipd.it)<BR>
Bill Hughes<BR>
Pierre de Mouveaux (pmx@audiovu.com)

</body>
